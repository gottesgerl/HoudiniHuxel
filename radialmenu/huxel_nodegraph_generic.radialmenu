{
	"fileversion":"20.5.304",
	"name":"huxel_nodegraph_generic",
	"categories":"Standard",
	"pane":"network",
	"label":"Huxel - Nodegraph - GENERIC",
	"type":"script_submenu",
	"script":"import json\nimport huxelradialmenus.commontools as commontools\n\n# Fill the cardinal directions (N, S, E, W) first, then the diagonals\nslots = (\"sw\", \"se\", \"s\", \"w\", \"e\", \"nw\", \"ne\", \"n\")\n\n# Get closest node\nnode, nodetype, distance, parent, context, presets = commontools.getClosestNode()\n\n\n\n\n\n# function to load presets\ndef loadPresetFunc(preset):\n    def wrapper(**kwargs):\n        hou.hscript(\"oppresetload %s '%s'\" %(node.path(), preset))\n    return wrapper\n    \n    \n# function to convert to merge Node   \ndef convertToSwitch(): \n    def wrapper(**kwargs):\n        switch = node.parent().createNode('switch')\n        for i in node.inputs(): switch.setNextInput(i)\n        for o in node.outputs(): o.setInput(0, switch)\n        switch.setPosition(node.position())\n        switch.setDisplayFlag(1)\n        switch.setSelected(1)\n        node.destroy()\n    return wrapper    \n    \n    \n# function to create ATTRIB WRANGLE\ndef createAttribWrangleFunc():\n    def wrapper(**kwargs):\n        null = node.parent().createNode('attribwrangle')\n        null.setName(\"aw_\", 1)\n        null.setNextInput(node)    \n        null.moveToGoodPosition()\n        null.setDisplayFlag(1)\n        null.setSelected(1)\n    return wrapper \n    \n        \n# Build a menu from preset elements    \nmenu = {}\nfor slot, preset in zip(slots, presets[:2]):\n    menu[slot] = {\n        \"type\": \"script_action\",\n        \"label\": preset,\n        \"script\": loadPresetFunc(preset),\n        }\n\n\n    \n# Add static elements\n\nmenu[\"s\"]= {\n        \"type\": \"script_action\",\n        \"label\": \"NEXT: Attribwrangle\",\n        \"icon\": \"SOP_attribwrangle\",\n        \"script\": createAttribWrangleFunc(),    }\n    \nmenu[\"e\"]= {\n        \"type\": \"script_action\",\n        \"label\": \"to Switch\",\n        \"icon\": \"SOP_switch\",\n        \"script\": convertToSwitch(),\n        \"shortcut\": \"D\",\n        }\n        \nradialmenu.setRadialMenu(menu)\n\n"
}
